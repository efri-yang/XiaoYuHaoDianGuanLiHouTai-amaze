<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">
    <link rel="stylesheet" type="text/css" href="css/iconfont/iconfont.css">
    <link rel="stylesheet" type="text/css" href="./AmazeUI/assets/css/amazeui.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <script type="text/javascript" src="./js/common/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="AmazeUI/assets/js/amazeui.js"></script>
    <script type="text/javascript" src="js/plugin/layer/layer.js"></script>
    <script type="text/javascript" src="js/plugin/jquery.ba-throttle-debounce.min.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <link rel="stylesheet" type="text/css" href="css/mobilemedia.css">
    <script type="text/javascript" src="js/plugin/echarts.min.js"></script>
    <style type="text/css">
    .perdays-chart-dialog {
        display: none;
        padding: 0 0 25px 0;
        box-sizing: border-box;

    }

    .perdays-chart-dialog .am-form {
        padding: 20px 0 0 50px;

    }
    </style>
</head>

<body>
    <div class="coms-layout-container theme-default">
        @@include("./views/common/_header.html") @@include("./views/common/_sideMenu.html")
        <div class="coms-layout-body p15 has-nav" id="J_coms-layout-body">
            <button id="btn-xxx">展开折线图</button>
            <div class="perdays-chart-dialog" id="J_perdays-chart-dialog">
                <div class="am-form am-form-horizontal clearfix">
                    <div class="am-form-group fl mb10 mt5">
                        <div class="am-para-inline w400">
                            <a class="mr10 auto-order-lists-time-btn pl10 pr10 pt5 pb5 am-btn-primary" href="javascript:void (0);">最近7天</a>
                            <a class="mr10 auto-order-lists-time-btn pl10 pr10 pt5 pb5" href="javascript:void (0);" id="test1">最近15天</a>
                            <a class="mr10 auto-order-lists-time-btn pl10 pr10 pt5 pb5" href="javascript:void (0);">最近30天</a>
                        </div>
                    </div>
                    <div class="am-form-group fl mb10 mr20">
                        <div class="am-para-inline w250">
                            <input id="auto-order-lists-time" type="text" name="time" autocomplete="off" value="" placeholder="日期范围" lay-key="1">
                        </div>
                    </div>
                    <div class="am-form-group fl" style="line-height:36px;padding:0 10px;">
                        <label><input type="checkbox" id="J_checkbox">对比</label>
                    </div>
                    <div class="am-form-group fl">
                        <div class="am-para-inline w250">
                            <input id="auto-order-lists-time" type="text" name="time" autocomplete="off" value="" placeholder="日期范围" lay-key="1">
                        </div>
                    </div>
                </div>
                <div id="charts-main"></div>
            </div>
            <script type="text/javascript">
            $(function() {
                var winW, winH, wp = 0.75,
                    hp = 0.65;
                $(window).on("resize", function() {
                    winW = $(this).width();
                    winH = $(this).height();
                    $("#charts-main").css({
                        width: winW * wp + "px",
                        height: winH * hp + "px"
                    });

                }).trigger('resize');

                var myChart = echarts.init(document.getElementById('charts-main'));

                myChart.on('legendselectchanged', function(obj){
                   
                    var flag=obj.selected[obj.name];

                     var option = this.getOption();
                   
                     var selectValue = Object.values(obj.selected);
                     if(flag==false){
                         if(-1 !=obj.name.indexOf("old")){
                            //是old选项
                            option.legend[0].selected[obj.name] = false;
                            option.legend[0].selected[obj.name.substring(3)] = false;
                            
                         }else{
                         
                             //不是old选项
                            option.legend[0].selected[obj.name] = false;
                            option.legend[0].selected["old"+obj.name] = false;
                            
                         }
                         
                    }else{
                        if(-1 !=obj.name.indexOf("old")){
                            //是old
                            option.legend[0].selected[obj.name] = true;
                            option.legend[0].selected[obj.name.substring(3)] = true;
                         }else{
                            //不是old
                            option.legend[0].selected[obj.name] = true;
                            option.legend[0].selected["old"+obj.name] = true;
                         }
                         
                    }

                  
                    

                     
                     
                   
                     this.setOption(option)
                });

                var color1 = ['#e32540', '#000000', '#f1801c', "#c710d7", "#10d7d0", "#10d723", "#108cd7", "#f4dd1d"];
                var color2 = ['#fc96a5', '#989898', '#ffcda1', "#f7a1ff", "#9bfffb", "#90ff9a", "#88d2ff", "#fff38d"];
                var isCompare = false;
                var legendArr;
                var seriesArr;
                var oldTimeDate;



                // 指定图表的配置项和数据
                var option = {
                    color: color1,
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['2019-03-01 星期一', '2019-03-02 星期二', '2019-03-03 星期三', '2019-03-04 星期四',
                            '2019-03-05 星期五', '2019-03-05 星期六', '2019-03-06 星期天'
                        ].map(function(str) {
                            return str.replace(' ', '\n')
                        })
                    },
                    grid: {
                        bottom: 90
                    },

                    tooltip: {
                        trigger: 'axis',

                        formatter: function(params) {

                            var str = "";
                            if (!isCompare) {
                                //没有对比的时候
                                for (var i = 0, length = params.length; i < length; i++) {
                                    if (i == 0) {
                                        str += params[i].axisValue + "<br/>";
                                    }

                                    if (-1 == params[i].seriesName.indexOf("人数")) {

                                        //不是人数就直接给单位万元
                                        str += params[i].seriesName + "：" + params[i].data + "万<br/>";
                                    } else {
                                        //是人数就直接给单位人
                                        str += params[i].seriesName + "：" + params[i].data + "人<br/>";
                                    }
                                }
                            } else {
                                //对比的时候
                                str += "<style>.tooltip-table{border:1px solid #e5e5e5;}.tooltip-table td{border:1px solid #e5e5e5;padding:8px 10px;}</style><table class='tooltip-table'>";
                                for (var i = 0, length = Math.ceil(params.length / 2); i < length; i++) {

                                    if (i == 0) {
                                        str += "<tr>"
                                        str += '<td>' + params[i].axisValue + "</td>";
                                        str += '<td>' + params[i + length].axisValue + "</td>";
                                        str += "</tr>"
                                    }
                                    str += "<tr>"
                                    //只要其中一个存在就要显示
                                    if (params[i]) {
                                        if (-1 == params[i].seriesName.indexOf("人数")) {
                                            //万单位
                                            str += '<td>' + params[i].seriesName + "：" + params[i].data + "万</td>";
                                        } else {
                                            str += '<td>' + params[i].seriesName + "：" + params[i].data + "人</td>";
                                        }
                                    } else {
                                        str += '<td></td>';
                                    }

                                    if (params[i + length]) {
                                        if (-1 == params[i + length].seriesName.indexOf("人数")) {
                                            //万单位
                                            str += '<td>' + params[i + length].seriesName.substring(3) + "：" + params[i + length].data + "万</td>";
                                        } else {
                                            str += '<td>' + params[i + length].seriesName.substring(3) + "：" + params[i + length].data + "人</td>";
                                        }
                                    } else {
                                        str += '<td></td>';
                                    }
                                    str += "</tr>"
                                }
                                str += "</table>";


                            }



                            return str;

                        },
                        axisPointer: {
                            // type: 'cross',
                            label: {
                                backgroundColor: '#6a7985'
                            }
                        }
                    },
                    legend: [{
                        orient: 'horizontal', // 'vertical'
                        x: 'center', // 'center' | 'left' | {number},
                        y: winH * hp - 50, // 'center' | 'bottom' | {number}
                        data: ['人均授信金额', '授信总额', '放款总额', '签约总额', '放款人数', '授信人数', '初审通过人数', '签约人数'],
                        formatter: function(name) {
                            return name;
                        }

                    }],
                    yAxis: {
                        type: 'value',
                        axisLabel: {
                            formatter: '{value}万(人)'
                        }

                    },
                    series: [{
                            id:1,
                            name: "人均授信金额",
                            data: [20, 32, 11, 40, 90, 30, 10],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值',

                                }]
                            },
                        },
                        {
                            id:2,
                            name: "授信总额",
                            data: [15, 16, 9, 26, 75, 15, 26],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            },
                        },
                        {
                            id:3,
                            name: "放款总额",
                            data: [5, 16, 22, 20, 20, 46, 35],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值',

                                }]
                            }
                        },
                        {
                            id:4,
                            name: "签约总额",
                            data: [80, 32, 36, 39, 5, 45, 52],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            }
                        },
                        {
                            id:5,
                            name: "放款人数",
                            data: [60, 16, 18, 13, 15, 20, 26],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            }
                        },

                        {
                            id:6,
                            name: "授信人数",
                            data: [61, 22, 18, 17, 14, 16, 23],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            }
                        },
                        {
                            id:7,
                            name: "初审通过人数",
                            data: [36, 11, 54, 34, 28, 8, 11],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            }
                        },
                        {
                            id:8,
                            name: "签约人数",
                            data: [30, 5, 24, 16, 32, 15, 22],
                            type: 'line',
                            lineStyle: {
                                width: 3
                            },
                            markPoint: {
                                symbol: 'circle',
                                symbolSize: 15,
                                label: {
                                    show: false
                                },
                                data: [{
                                    type: 'max',
                                    name: '最大值'

                                }]
                            }
                        }
                    ]
                };




                $("#btn-xxx").on("click", function() {
                    layer.open({
                        type: 1,
                        shade: false,
                        title: false, //不显示标题
                        area: winW * wp + "px",
                        content: $('#J_perdays-chart-dialog'), //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
                        success: function() {


                            myChart.setOption(option);
                        }
                    });
                }).trigger("click");



                


                $("#J_checkbox").on("click", function() {
                    var $this = $(this);
                    oldTimeDate= ['2019-02-01 星期一', '2019-02-02 星期二', '2019-02-03 星期三', '2019-02-04 星期四',
                            '2019-02-05 星期五', '2019-02-05 星期六', '2019-02-06 星期天'
                        ];
                    if ($this.prop("checked")) {
                        //选中
                        isCompare = true;
                        legendArr = [{
                            orient: 'horizontal', // 'vertical'
                            x: 'center', // 'center' | 'left' | {number},
                            y: winH * hp - 50, // 'center' | 'bottom' | {number}
                            data: ['人均授信金额', '授信总额', '放款总额', '签约总额', '放款人数', '授信人数', '初审通过人数', '签约人数'],
                            formatter: function(name) {
                                return name;
                            }

                        }, {
                            orient: 'horizontal', // 'vertical'
                            x: 'center', // 'center' | 'left' | {number},
                            y: 'bottom', // 'center' | 'bottom' | {number}
                            data: ['old人均授信金额', 'old授信总额', 'old放款总额', 'old签约总额', 'old放款人数', 'old授信人数', 'old初审通过人数', 'old签约人数'],
                            formatter: function(name) {
                                return name.substring(3);
                            }

                        }];
                        seriesArr = [{
                               
                                name: "人均授信金额",
                                data: [20, 32, 11, 40, 90, 30, 10],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                },
                            },
                            {
                               
                                name: "授信总额",
                                data: [15, 16, 9, 26, 75, 15, 26],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                },
                            },
                            {
                                id:3,
                                name: "放款总额",
                                data: [5, 16, 22, 20, 20, 46, 35],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                }
                            },
                            {
                               
                                name: "签约总额",
                                data: [80, 32, 36, 39, 5, 45, 52],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                               
                                name: "放款人数",
                                data: [60, 16, 18, 13, 15, 20, 26],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },

                            {
                               
                                name: "授信人数",
                                data: [61, 22, 18, 17, 14, 16, 23],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                               
                                name: "初审通过人数",
                                data: [36, 11, 54, 34, 28, 8, 11],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                
                                name: "签约人数",
                                data: [30, 5, 24, 16, 32, 15, 22],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },



                            {
                               
                                name: "old人均授信金额",
                                data: [20, 32, 11, 40, 90, 30, 10],
                                type: 'line',
                                time:"2019-01-03",
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                },
                            },
                            {
                               
                                name: "old授信总额",
                                data: [33, 19, 14, 32, 61, 32, 41],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                },
                            },
                            {
                                
                                name: "old放款总额",
                                data: [10, 32, 16, 23, 33, 32, 24],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                }
                            },
                            {
                                
                                name: "old签约总额",
                                data: [40, 16, 18, 45, 10, 36, 32],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                
                                name: "old放款人数",
                                data: [52, 24, 26, 29, 18, 30, 36],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },

                            {
                               
                                name: "old授信人数",
                                data: [31, 28, 24, 34, 20, 24, 30],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                id:17,
                                name: "old初审通过人数",
                                data: [44, 19, 46, 28, 20, 4, 22],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                id:18,
                                name: "old签约人数",
                                data: [15, 10, 48, 8, 16, 30, 44],
                                type: 'line',
                                lineStyle: {
                                    width: 3,
                                    type: "dashed"
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            }
                        ];

                    } else {
                        //没选中
                        //

                        isCompare = false;

                        legendArr = {
                            orient: 'horizontal', // 'vertical'
                            x: 'center', // 'center' | 'left' | {number},
                            y: winH * hp - 50, // 'center' | 'bottom' | {number}
                            data: ['人均授信金额', '授信总额', '放款总额', '签约总额', '放款人数', '授信人数', '初审通过人数', '签约人数'],
                            formatter: function(name) {
                                return name;
                            }
                        }

                        seriesArr = [{
                                name: "人均授信金额",
                                data: [20, 32, 11, 40, 90, 30, 10],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                },
                            },
                            {
                                name: "授信总额",
                                data: [15, 16, 9, 26, 75, 15, 26],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                },
                            },
                            {
                                name: "放款总额",
                                data: [5, 16, 22, 20, 20, 46, 35],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值',

                                    }]
                                }
                            },
                            {
                                name: "签约总额",
                                data: [80, 32, 36, 39, 5, 45, 52],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                name: "放款人数",
                                data: [60, 16, 18, 13, 15, 20, 26],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },

                            {
                                name: "授信人数",
                                data: [61, 22, 18, 17, 14, 16, 23],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                name: "初审通过人数",
                                data: [36, 11, 54, 34, 28, 8, 11],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            },
                            {
                                name: "签约人数",
                                data: [30, 5, 24, 16, 32, 15, 22],
                                type: 'line',
                                lineStyle: {
                                    width: 3
                                },
                                markPoint: {
                                    symbol: 'circle',
                                    symbolSize: 15,
                                    label: {
                                        show: false
                                    },
                                    data: [{
                                        type: 'max',
                                        name: '最大值'

                                    }]
                                }
                            }
                        ];

                    }


                    myChart.setOption({
                        color: color1.concat(color2),
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                           data: ['2019-03-01 星期一', '2019-03-02 星期二', '2019-03-03 星期三', '2019-03-04 星期四',
                            '2019-03-05 星期五', '2019-03-05 星期六', '2019-03-06 星期天'
                        ].map(function(str) {
                                return str.replace(' ', '\n')
                            })
                        },
                        grid: {
                            bottom: 90
                        },
                        tooltip: {
                            trigger: 'axis',
                            formatter: function(params) {
                               
                                console.dir(params)
                                var str = "";
                                if (!isCompare) {
                                    //没有对比的时候
                                    for (var i = 0, length = params.length; i < length; i++) {
                                        if (i == 0) {
                                            str += params[i].axisValue + "<br/>";
                                        }

                                        if (-1 == params[i].seriesName.indexOf("人数")) {

                                            //不是人数就直接给单位万元
                                            str += params[i].seriesName + "：" + params[i].data + "万<br/>";
                                        } else {
                                            //是人数就直接给单位人
                                            str += params[i].seriesName + "：" + params[i].data + "人<br/>";
                                        }
                                    }
                                } else {
                                    //对比的时候
                                    str += "<style>.tooltip-table{border:1px solid #e5e5e5;}.tooltip-table td{border:1px solid #e5e5e5;padding:8px 10px;}</style><table class='tooltip-table'>";
                                    for (var i = 0, length = Math.ceil(params.length / 2); i < length; i++) {
                                        if (i == 0) {
                                            str += "<tr>"
                                            str += '<td>' + params[i].axisValue + "</td>";
                                            str += '<td></td>';
                                            str += "</tr>"
                                        }
                                        str += "<tr>"
                                        //只要其中一个存在就要显示
                                        if (params[i]) {
                                            if (-1 == params[i].seriesName.indexOf("人数")) {
                                                //万单位
                                                str += '<td>' + params[i].seriesName + "：" + params[i].data + "万</td>";
                                            } else {
                                                str += '<td>' + params[i].seriesName + "：" + params[i].data + "人</td>";
                                            }
                                        } else {
                                            str += '<td></td>';
                                        }

                                        if (params[i + length]) {
                                            if (-1 == params[i + length].seriesName.indexOf("人数")) {
                                                //万单位
                                                str += '<td>' + params[i + length].seriesName.substring(3) + "：" + params[i + length].data + "万</td>";
                                            } else {
                                                str += '<td>' + params[i + length].seriesName.substring(3) + "：" + params[i + length].data + "人</td>";
                                            }
                                        } else {
                                            str += '<td></td>';
                                        }
                                        str += "</tr>"
                                    }
                                    str += "</table>";
                                }
                                return str;
                            },
                            axisPointer: {
                                // type: 'cross',
                                label: {
                                    backgroundColor: '#6a7985'
                                }
                            }
                        },
                        legend: legendArr,
                        yAxis: {
                            type: 'value',
                            axisLabel: {
                                formatter: '{value}万(人)'
                            }

                        },
                        series: seriesArr
                    }, true);


                });










            })



            // 使用刚指定的配置项和数据显示图表。
            </script>
        </div>
    </div>
</body>

</html>