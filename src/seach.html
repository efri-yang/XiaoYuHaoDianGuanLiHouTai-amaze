<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">
    <link rel="stylesheet" type="text/css" href="css/iconfont/iconfont.css">
    <link rel="stylesheet" type="text/css" href="./AmazeUI/assets/css/amazeui.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <script type="text/javascript" src="./js/common/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="AmazeUI/assets/js/amazeui.js"></script>
    <script type="text/javascript" src="js/plugin/layer/layer.js"></script>
    <script type="text/javascript" src="js/plugin/jquery.ba-throttle-debounce.min.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
</head>

<body>
    <style type="text/css">
    .coms-formsj-search {
        font-size: 16px;
    }
    </style>
    <div class="coms-layout-container theme-default">
        @@include("./views/common/_header.html") @@include("./views/common/_sideMenu.html")
        <div class="coms-layout-body p15 has-nav" id="J_coms-layout-body">
            <div class="coms-table-hd clearfix no-border">
                <div class="am-form am-form-horizontal">
                    <div class="am-form-group coms-formsj-search">
                        <label class="f16">意向商家：</label>
                        <label class="mr20 f16"><input type="checkbox">有</label>
                        <label class="f16"><input type="checkbox">无</label>
                    </div>
                    <div class="am-form-group fl">
                        <div class="am-para-inline w200">
                            <select required="" name="province">
                                <option value="">请选择是否签约</option>
                                <option value="option1">选项1</option>
                            </select>
                        </div>
                    </div>
                    <div class="am-form-group fl">
                        <div class="am-para-inline w200">
                            <input type="text" id="J_search-field">
                            <div id="selction-ajax"></div>
                            <input type="text" name="country" id="autocomplete-ajax-x" disabled="disabled" style="color: #CCC; position: absolute; background: transparent; z-index: 1;"/>
                        </div>
                    </div>
                    <div class="am-form-group fl ml20">
                        <button type="button" class="am-btn  am-btn-sm am-btn-success w100">搜索</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/plugin/autocomplete/jquery.mockjax.js"></script>
    <script type="text/javascript" src="js/plugin/autocomplete/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="js/plugin/autocomplete/countries.js"></script>
    <link rel="stylesheet" type="text/css" href="js/plugin/autocomplete/styles.css">
    <script type="text/javascript">
    $(function() {

        var countriesArray = $.map(countries, function(value, key) { return { value: value, data: key }; });

        // Setup jQuery ajax mock:
        $.mockjax({
            url: '*',
            responseTime: 2000,
            response: function(settings) {
                var query = settings.data.query,
                    queryLowerCase = query.toLowerCase(),
                    re = new RegExp('\\b' + $.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi'),
                    suggestions = $.grep(countriesArray, function(country) {
                        // return country.value.toLowerCase().indexOf(queryLowerCase) === 0;
                        return re.test(country.value);
                    }),
                    response = {
                        query: query,
                        suggestions: suggestions
                    };

                this.responseText = JSON.stringify(response);
            }
        });

        // Initialize ajax autocomplete:
        $('#J_search-field').autocomplete({
            // serviceUrl: '/autosuggest/service/url',
            lookup: countriesArray,
            lookupFilter: function(suggestion, originalQuery, queryLowerCase) {
                var re = new RegExp('\\b' + $.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                return re.test(suggestion.value);
            },
            onSelect: function(suggestion) {
                $('#selction-ajax').html('You selected: ' + suggestion.value + ', ' + suggestion.data);
            },
            onHint: function(hint) {
                $('#autocomplete-ajax-x').val(hint);
            },
            onInvalidateSelection: function() {
                $('#selction-ajax').html('You selected: none');
            }
        });
    });
    </script>
</body>

</html>